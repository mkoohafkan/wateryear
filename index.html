<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Define and Extract Water Years from Dates • wateryear</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Define and Extract Water Years from Dates">
<meta property="og:description" content="The goal of this package is to provide a consistent set of
    functions for associating calendar dates with water years.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">wateryear</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.1-0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="wateryear-define-and-extract-water-years-from-dates">
<code>wateryear</code>: Define and Extract Water Years from Dates<a class="anchor" aria-label="anchor" href="#wateryear-define-and-extract-water-years-from-dates"></a>
</h1></div>
<p><!-- badges: start --> <img src="https://www.r-pkg.org/badges/version-last-release/wateryear" alt="CRAN Release"><a href="https://github.com/mkoohafkan/wateryear/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/mkoohafkan/wateryear/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a> <!-- badges: end --></p>
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>A <em>water year</em> is a hydrologic term describing a 12-month time period over which precipitation, runoff, or flows are measured. The water year is generally defined in such a way as to ensure that runoff and the precipitation that generated it (e.g., rainfall or melting snow accumulated in the previous season) are associated with the same numeric year; in other words, the changeover from one water year to the next is typically defined to be during hydrologically “uninteresting” periods, i.e., periods of typically low or no precipitation. Therefore, the water year start and end usually differs from the calendar year and can vary regionally.</p>
<p>There are a variety of R packages for hydrologic analysis, and most of them implement their own calculation of the water year. The goal of this package is to provide a consistent set of functions for defining the water year and associating calendar dates with water years that current and future packages can depend on.</p>
</div>
<div class="section level2">
<h2 id="demonstration">Demonstration<a class="anchor" aria-label="anchor" href="#demonstration"></a>
</h2>
<p>The <code>wateryear</code> package provides a mechanism for defining the water year for the current R session:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">wateryear</span><span class="op">)</span></span>
<span><span class="co"># example: standard North America water year </span></span>
<span><span class="fu"><a href="reference/set_wateryear.html">set_wateryear</a></span><span class="op">(</span><span class="st">"10-01"</span>, <span class="st">"09-30"</span>, <span class="st">"%m-%d"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Water year set to: 10-01 - 09-30</span></span></code></pre></div>
<p>Once the water year is set, the water year associated with a given date can be determined via the <code><a href="reference/wateryear.html">wateryear()</a></code> function:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/wateryear.html">wateryear</a></span><span class="op">(</span><span class="st">"2004-01-01"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 2004</span></span>
<span></span>
<span><span class="fu"><a href="reference/wateryear.html">wateryear</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="st">"2007-09-01"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 2007</span></span>
<span></span>
<span><span class="fu"><a href="reference/wateryear.html">wateryear</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2008-11-15 12:00:00"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 2009</span></span>
<span></span>
<span><span class="fu"><a href="reference/wateryear.html">wateryear</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html" class="external-link">as.POSIXct</a></span><span class="op">(</span><span class="st">"2009-09-30 23:59:59"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 2009</span></span>
<span></span>
<span><span class="fu"><a href="reference/wateryear.html">wateryear</a></span><span class="op">(</span><span class="st">"2009-10-01 00:00:00"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] 2010</span></span></code></pre></div>
<p>For routine use, the water year can be defined via the option <code>wateryear.default</code> in a user’s <code>.Rprofile</code>. The package will use this option to set the water year in the <code>.onAttach()</code> call.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># set this is .Rprofile</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>wateryear.default <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>start <span class="op">=</span> <span class="st">"10-01"</span>, end <span class="op">=</span> <span class="st">"09-30"</span>,</span>
<span>  fmt <span class="op">=</span> <span class="st">"%m-%d"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The package also provides convenience functions for defining a “reference” water year. This concept is helpful for plotting or computing summary statistics based on the month or day of the year.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/set_referenceyear.html">set_referenceyear</a></span><span class="op">(</span><span class="fl">3001</span><span class="op">)</span></span>
<span><span class="co">#&gt; Reference year set to: 3001</span></span></code></pre></div>
<p>You can then use the function <code><a href="reference/with_referenceyear.html">with_referenceyear()</a></code> to adjust dates to the reference water year:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="reference/with_referenceyear.html">with_referenceyear</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/as.Date.html" class="external-link">as.Date</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"2011-10-15"</span>, <span class="st">"2012-02-13"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] "3000-10-15" "3001-02-13"</span></span></code></pre></div>
<p>For routine use, the reference year can be defined via the option <code>wateryear.reference</code> in a user’s <code>.Rprofile</code>. The package will use this option to set the water year in the <code>.onAttach()</code> call.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># set this is .Rprofile</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>wateryear.reference <span class="op">=</span> <span class="fl">3001</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing wateryear</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Michael Koohafkan <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>



  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Michael Koohafkan.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
